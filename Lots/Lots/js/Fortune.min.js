!function(e,t,l,a,n){var r={select_01:1,textfield:"",R1:0,DrawLots:new Array},s=e.createClass({displayName:"FortuneResult",componentDidMount:function(){l("html, body").animate({scrollTop:0},"fast")},textfieldChange:function(e){r.textfield=e.target.value,this.forceUpdate()},select_01Change:function(e){r.select_01=parseInt(e.target.value),this.forceUpdate()},R1_Change:function(e){r.R1=parseInt(e.target.value),this.forceUpdate()},render:function(){return e.createElement("div",null,e.createElement("h2",{className:"content-subhead"},a.FortuneSub1),e.createElement("p",null,r.textfield),e.createElement("h2",{className:"content-subhead"},a.FortuneSub2),e.createElement("p",null,this.props.Result1),e.createElement("h2",{className:"content-subhead"},a.FortuneSub3),e.createElement("p",null,this.props.Result2),e.createElement("h2",{className:"content-subhead"},a.FortuneSub4),e.createElement("div",{className:"pure-g"},e.createElement("div",{className:"pure-u-1"},a.Opportunity,"：",this.props.Result3),e.createElement("div",{className:"pure-u-1"},a.Environment,"：",this.props.Result4),e.createElement("div",{className:"pure-u-1"},a.Social,"：",this.props.Result5)),e.createElement("h2",{className:"content-subhead"},a.FortuneSub5),e.createElement("table",{className:"pure-table"},e.createElement("thead",null,e.createElement("tr",null,e.createElement("th",null,a.spring),e.createElement("th",null,a.summer),e.createElement("th",null,a.autumn),e.createElement("th",null,a.winter))),e.createElement("tbody",null,e.createElement("tr",null,e.createElement("td",null,this.props.Result6),e.createElement("td",null,this.props.Result7),e.createElement("td",null,this.props.Result8),e.createElement("td",null,this.props.Result9)))),e.createElement("h2",{className:"content-subhead"},a.FortuneSub6),e.createElement("div",{className:"pure-g"},e.createElement("div",{className:"pure-u-1-3"}),e.createElement("div",{className:"pure-u-1-3"},e.createElement("dl",null,e.createElement("dt",null,a.north),e.createElement("dd",null,this.props.Result10))),e.createElement("div",{className:"pure-u-1-3"}),e.createElement("div",{className:"pure-u-1-3"},e.createElement("dl",null,e.createElement("dt",null,a.west),e.createElement("dd",null,this.props.Result11))),e.createElement("div",{className:"pure-u-1-3"},e.createElement("dl",null,e.createElement("dt",null,a.Surroundings),e.createElement("dd",null,this.props.Result12))),e.createElement("div",{className:"pure-u-1-3"},e.createElement("dl",null,e.createElement("dt",null,a.east),e.createElement("dd",null,this.props.Result13))),e.createElement("div",{className:"pure-u-1-3"}),e.createElement("div",{className:"pure-u-1-3"},e.createElement("dl",null,e.createElement("dt",null,a.south),e.createElement("dd",null,this.props.Result14))),e.createElement("div",{className:"pure-u-1-3"})),e.createElement("h2",{className:"content-subhead"},a.FortuneSub7),e.createElement("p",null,this.props.Result15),e.createElement("h2",{className:"content-subhead"},a.FortuneSub8),e.createElement("p",null,this.props.Result16))}}),u=e.createClass({displayName:"RequestForm",componentDidMount:function(){},textfieldChange:function(e){r.textfield=e.target.value,this.forceUpdate()},select_01Change:function(e){r.select_01=parseInt(e.target.value),this.forceUpdate()},R1_Change:function(e){r.R1=parseInt(e.target.value),this.forceUpdate()},render:function(){for(var t=new Array,l=1;7>=l;l++)t.push(e.createElement("option",{value:l,key:l},a["select_01_"+l]));for(var n=new Array,l=1;8>=l;l++)n.push(e.createElement("div",{className:"pure-u-1-2",key:l},e.createElement("label",{htmlFor:"R1_"+l,className:"pure-radio"},e.createElement("input",{id:"R1_"+l,type:"radio",onChange:this.R1_Change,name:"R1",value:l,checked:l===r.R1,required:!0}),a["R1_"+l])));var s=this.props.playChess;return e.createElement("form",{className:"pure-form pure-form-stacked",onSubmit:s},e.createElement("fieldset",null,e.createElement("div",{className:"pure-g"},e.createElement("div",{className:"pure-u-1"},e.createElement("label",{htmlFor:"select_01"},a.SelectCategory),e.createElement("select",{id:"select_01",value:r.select_01,onChange:this.select_01Change},t)),e.createElement("div",{className:"pure-u-1"},e.createElement("label",{htmlFor:"textfield"},a.Question1," : ",a.Note1),e.createElement("input",{id:"textfield",onChange:this.textfieldChange,type:"text",placeholder:a.Question1,className:"pure-input-1",value:r.textfield,autoComplete:"off",required:!0})),e.createElement("div",{className:"pure-u-1"},e.createElement("label",null,a.Specific),n),e.createElement("div",{className:"pure-u-1"},e.createElement("label",null,a.Note2),e.createElement("button",{type:"submit",className:"pure-button pure-button-primary"},a.Submit1)))))}}),c=new Array,o=e.createClass({displayName:"ChessLots",componentDidMount:function(){l("html, body").animate({scrollTop:0},"fast")},textfieldChange:function(e){r.textfield=e.target.value,this.forceUpdate()},select_01Change:function(e){r.select_01=parseInt(e.target.value),this.forceUpdate()},R1_Change:function(e){r.R1=parseInt(e.target.value),this.forceUpdate()},onChessPick:function(e){r.DrawLots.length<6&&(r.DrawLots.push(e),this.forceUpdate(),6==r.DrawLots.length&&this.goRandom())},goRandom:function(){for(var e=0;32>e;e++)-1==r.DrawLots.indexOf(e)&&c.push(e);for(var e=0;e<c.length;e++){var t=c[e],l=parseInt(Math.random()*c.length);c[e]=c[l],c[l]=t}setTimeout(this.randomPick,100)},randomPick:function(){var e=c[0];c.splice(0,1),r.DrawLots.push(e),this.forceUpdate(),c.length>0?setTimeout(this.randomPick,100):(this.props.getData(),l("html, body").animate({scrollTop:document.body.scrollHeight},"fast"))},render:function(){for(var t=new Array,l=1;32>=l;l++)r.DrawLots.indexOf(l-1)>-1?t.push(e.createElement("div",{key:l,className:"pure-u-1-4 pure-u-md-1-8"},e.createElement("div",{className:"chessSel"}))):t.push(e.createElement("div",{key:l,className:"pure-u-1-4 pure-u-md-1-8"},e.createElement("div",{className:"chessLot",onClick:r.DrawLots.length<6?this.onChessPick.bind(null,l-1):null,style:{cursor:r.DrawLots.length<6?"pointer":null}})));for(var n=e.createElement("div",{className:"pure-g"},t),s=1,u=1,c=new Array;32>=u;){for(var o=new Array,l=1;s>=l&&!(u>32);l++){if(null==this.props.FortuneResult)o.push(e.createElement("div",{key:u,style:{backgroundColor:r.DrawLots.length>=u?"#006500":null}}));else{var i=this.props.FortuneResult.chessSlots[u-1].charAt(0);o.push(e.createElement("div",{key:u,className:"chessPieces"+(i>="h"?" black":" red")},e.createElement("div",null,e.createElement("span",null,a[i]))))}u++}c.push(e.createElement("div",{key:s,className:"ccle"},o)),s++}var m=null==this.props.FortuneResult?null:e.createElement("div",{className:"pure-u-1"},e.createElement("button",{type:"button",onClick:this.props.goToResult,className:"pure-button pure-button-primary"},a.Submit2));return e.createElement("div",null,e.createElement("p",null,a.Note3),n,e.createElement("hr",null),c,m)}}),i=e.createClass({displayName:"FortunePanel",getInitialState:function(){return{Step:0}},componentDidMount:function(){},playChess:function(e){e.preventDefault(),this.setState({Step:1})},getData:function(){var e=this.xhr;e&&(this.xhr=null,e.abort()),this.xhr=l.ajax({url:n.FortuneResult,dataType:"jsonp",jsonp:"jsoncallback",method:"POST",traditional:!0,data:r,success:function(e){this.isMounted()&&this.setState({FortuneResult:e})}.bind(this),error:function(e,t,l){("abort"!==t||e===this.xhr)&&alert(e.statusText)}.bind(this)})},goToResult:function(){this.setState({Step:2})},render:function(){var t=null;return 0==this.state.Step?t=e.createElement(u,{playChess:this.playChess}):1==this.state.Step?t=e.createElement(o,{getData:this.getData,goToResult:this.goToResult,FortuneResult:this.state.FortuneResult}):2==this.state.Step&&(t=e.createElement(s,this.state.FortuneResult)),e.createElement("div",null,t)}});window.RequestFormPanelRef=t.render(e.createElement(i,null),l(".content").get(0))}(React,ReactDOM,jQuery,i18n,Identity);